{"version":3,"file":"vue-3-constellation.esm.js","sources":["../src/components/Star.js","../src/components/Constellation.js","../src/components/Vue3Constellation.vue"],"sourcesContent":["export default class Star{\r\n\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n\r\n\r\n        this.x = Math.random() * this.parent.canvas.width;\r\n        this.y = Math.random() * this.parent.canvas.height;\r\n\r\n        this.vx = (this.parent.options.velocity - (Math.random() * 0.5));\r\n        this.vy = (this.parent.options.velocity - (Math.random() * 0.5));\r\n\r\n        this.radius = this.parent.options.starRandomWidth ? (Math.random() * this.parent.options.starWidth) : this.parent.options.star.width;\r\n    };\r\n    draw(){\r\n        this.parent.ctx.beginPath();\r\n        this.parent.ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\r\n        this.parent.ctx.closePath();\r\n        this.parent.ctx.fill();\r\n    }\r\n    updatePosition(){\r\n\r\n        if (this.y < 0 || this.y > this.parent.canvas.height) {\r\n            this.vx = this.vx;\r\n            this.vy = - this.vy;\r\n        } else if (this.x < 0 || this.x > this.parent.canvas.width) {\r\n            this.vx = - this.vx;\r\n            this.vy = this.vy;\r\n        }\r\n\r\n        this.x += this.vx;\r\n        this.y += this.vy;\r\n    }\r\n\r\n}\r\n\r\n","import Star from './Star.js'\r\nexport default class Constellation{\r\n    constructor($wrap, options ={}) {\r\n        this.$wrap =  $wrap\r\n        this.options = options;\r\n        this.init()\r\n    };\r\n    init(){\r\n        this.canvas = document.createElement('canvas');\r\n        this.canvas.className = 'vue-constellation__canvas';\r\n        this.canvas.style.display = 'block';\r\n        this.canvas.style.position = 'absolute';\r\n        this.canvas.style.left = 0;\r\n        this.canvas.style.top = 0;\r\n        this.canvas.style.pointerEvents = 'none';\r\n        this.$wrap.insertBefore(this.canvas, this.$wrap.firstChild);\r\n        this.ctx = this.canvas.getContext('2d')\r\n        this.styleCanvas()\r\n        this.setInitialPosition()\r\n\r\n        this.stars = [];\r\n\r\n        this.createStars();\r\n        this.loop();\r\n\r\n        this.bind();\r\n    };\r\n\r\n    styleCanvas() {\r\n\r\n        this.canvas.width = this.options.width;\r\n        this.canvas.height = this.options.height;\r\n        this.ctx.fillStyle = this.options.starColor;\r\n        this.ctx.strokeStyle = this.options.lineColor;\r\n        this.ctx.lineWidth = this.options.lineWidth;\r\n    };\r\n    setInitialPosition() {\r\n        if (!this.options || !this.options.hasOwnProperty('positionX')) {\r\n            this.options.positionX = this.canvas.width * 0.5;\r\n        }\r\n        if (!this.options || !this.options.hasOwnProperty('positionY')) {\r\n            this.options.positionY = this.canvas.height * 0.5;\r\n        }\r\n    };\r\n\r\n    createStars() {\r\n        let length = this.options.length,\r\n            star,\r\n            i;\r\n\r\n        for (i = 0; i < length; i++) {\r\n            this.stars.push(new Star(this));\r\n            star = this.stars[i];\r\n            star.draw();\r\n        }\r\n    };\r\n\r\n    loop(){\r\n\r\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.addLine();\r\n        for (let i = 0; i < this.stars.length; i++) {\r\n            //this.stars[i].line();\r\n            this.stars[i].updatePosition();\r\n            this.stars[i].draw();\r\n        }\r\n\r\n\r\n        window.requestAnimationFrame(this.loop.bind(this))\r\n        /*this.rAF = window.requestAnimationFrame(function () {\r\n            this.loop.bind(this);//(callback, $this);\r\n        });*/\r\n    }\r\n\r\n\r\n    addLine(){\r\n        let length = this.options.length,\r\n            iStar,\r\n            jStar,\r\n            i,\r\n            j;\r\n\r\n        for (i = 0; i < length; i++) {\r\n            for (j = 0; j < length; j++) {\r\n                iStar = this.stars[i];\r\n                jStar = this.stars[j];\r\n\r\n                if (\r\n                    (iStar.x - jStar.x) < this.options.distance &&\r\n                    (iStar.y - jStar.y) < this.options.distance &&\r\n                    (iStar.x - jStar.x) > - this.options.distance &&\r\n                    (iStar.y - jStar.y) > - this.options.distance\r\n                ) {\r\n                    if (\r\n                        (iStar.x - this.options.positionX) < this.options.radius &&\r\n                        (iStar.y - this.options.positionY) < this.options.radius &&\r\n                        (iStar.x - this.options.positionX) > - this.options.radius &&\r\n                        (iStar.y - this.options.positionY) > - this.options.radius\r\n                    ) {\r\n                        this.ctx.beginPath();\r\n                        this.ctx.moveTo(iStar.x, iStar.y);\r\n                        this.ctx.lineTo(jStar.x, jStar.y);\r\n                        this.ctx.stroke();\r\n                        this.ctx.closePath();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    bind(){\r\n\r\n        document.addEventListener('mousemove', (e) => {\r\n            this.options.positionX = e.pageX - this.canvas.offsetLeft;\r\n            this.options.positionY = e.pageY - this.canvas.offsetTop;\r\n\r\n        }, false);\r\n\r\n        window.addEventListener('resize', () => {\r\n            window.cancelAnimationFrame(this.rAF);\r\n        })\r\n    }\r\n    unbind(){\r\n        console.log('unbind');\r\n    }\r\n\r\n}\r\n","<template>\r\n  <div class=\"vue-3-constellation\" ref=\"vue3Constellation\">\r\n    <div class = \"vue-3-constellation__content\">\r\n      <slot/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, nextTick, ref, onMounted } from 'vue'\r\nimport Constellation from './Constellation.js'\r\nexport default defineComponent({\r\n  props:{\r\n    width:{\r\n      type: Number,\r\n      required: false,\r\n      default:document.documentElement.clientWidth\r\n    },\r\n    height:{\r\n      type: Number,\r\n      required: false,\r\n      default:document.documentElement.clientHeight\r\n    },\r\n    starColor:{\r\n      type: String,\r\n      required: false,\r\n      default:'rgba(255, 255, 255, .5)'\r\n    },\r\n    starWidth:{\r\n      type: Number,\r\n      required: false,\r\n      default:3\r\n    },\r\n    starRandomWidth:{\r\n      type: Boolean,\r\n      required: false,\r\n      default:true\r\n    },\r\n    lineColor:{\r\n      type: String,\r\n      required: false,\r\n      default:'rgba(255, 255, 255, .5)'\r\n    },\r\n    lineWidth:{\r\n      type: Number,\r\n      required: false,\r\n      default:0.2\r\n    },\r\n    positionX:{\r\n      type: Number,\r\n      required: false,\r\n      default:0,\r\n    },\r\n    positionY:{\r\n      type: Number,\r\n      required: false,\r\n      default:0,\r\n    },\r\n    velocity:{\r\n      type: Number,\r\n      required: false,\r\n      default:0.1,\r\n    },\r\n    length:{\r\n      type: Number,\r\n      required: false,\r\n      default:(document.documentElement.clientWidth / 6),\r\n    },\r\n    distance:{\r\n      type: Number,\r\n      required: false,\r\n      default:120,\r\n    },\r\n    radius:{\r\n      type: Number,\r\n      required: false,\r\n      default:(document.documentElement.clientHeight / 5),\r\n    },\r\n    stars: {\r\n      type:Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  setup(props) {\r\n\r\n    const vue3Constellation = ref(null)\r\n\r\n    onMounted(() => {\r\n      nextTick(() => {\r\n\r\n        const options = {}\r\n        for(let key in props) {\r\n          options[key] = props[key]\r\n        }\r\n        new Constellation(vue3Constellation.value, options);\r\n\r\n      })\r\n    })\r\n\r\n    return {\r\n      vue3Constellation\r\n    }\r\n  }\r\n})\r\n</script>\r\n"],"names":["_openBlock","_createElementBlock","_createElementVNode","_renderSlot"],"mappings":"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"}